apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
  namespace: quychung
data:
  # Database Configuration (RDS PostgreSQL)
  db-host: "your-rds-endpoint.rds.amazonaws.com"  # TODO: Thay bằng RDS endpoint thật
  db-port: "5432"
  db-name: "quychung"
  db-user: "quychung"
  
  # Blockchain Configuration
  blockchain-rpc: "https://rpc-amoy.polygon.technology"
  
  # Google OAuth (Production)
  google-redirect-url: "https://your-domain.com/auth/callback"  # TODO: Thay bằng domain thật
  
  # Contract ABI và Address
  contract-address: "0xF95395e8eFc43AA57Ef518d423AeC58f8722944e"
  contract-abi: |
    [
      {
        "inputs": [
          {"internalType": "address","name": "_treasury","type": "address"},
          {"internalType": "uint256","name": "_amountToken","type": "uint256"},
          {"internalType": "bool","name": "_isIncome","type": "bool"},
          {"internalType": "bytes32","name": "_detailHash","type": "bytes32"}
        ],
        "name": "logTransaction",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "logCount",
        "outputs": [{"internalType": "uint256","name": "","type": "uint256"}],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [{"internalType": "uint256","name": "","type": "uint256"}],
        "name": "logs",
        "outputs": [
          {"internalType": "address","name": "treasury","type": "address"},
          {"internalType": "uint256","name": "amountToken","type": "uint256"},
          {"internalType": "bool","name": "isIncome","type": "bool"},
          {"internalType": "uint256","name": "timestamp","type": "uint256"},
          {"internalType": "address","name": "loggedBy","type": "address"},
          {"internalType": "bytes32","name": "detailHash","type": "bytes32"}
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "anonymous": false,
        "inputs": [
          {"indexed": true,"internalType": "address","name": "treasury","type": "address"},
          {"indexed": false,"internalType": "uint256","name": "amountToken","type": "uint256"},
          {"indexed": false,"internalType": "bool","name": "isIncome","type": "bool"},
          {"indexed": false,"internalType": "uint256","name": "timestamp","type": "uint256"},
          {"indexed": true,"internalType": "address","name": "loggedBy","type": "address"},
          {"indexed": false,"internalType": "bytes32","name": "detailHash","type": "bytes32"}
        ],
        "name": "TransactionLogged",
        "type": "event"
      }
    ]
